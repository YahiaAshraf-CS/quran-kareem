<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="icon" href="quran.png">
   <meta name="description" content="القران الكريم بصوت الشيخ عبد الباسط عبد الصمد">
   <meta name="keywords" content="القران الكريم, القران, الكريم, Quran">
   <title>القران الكريم</title>

   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer">
   <link rel="stylesheet" href="sura.css">


</head>
<body>
   <h2 id="sura-name" style="color: #6ff17a;   font-size: 35px; font-weight: bolder; padding: 53px;">
      اسم السورة
   </h2>

   <div class="sura">
      <div class="image">
         <img src="abd-el-baset2.jpg" alt="الشيخ عبد الباسط" id="img" loading="lazy">
      </div>
      <div style="width: 100%;">
      <audio id="audio-player" controls>
         <source id="audio-source" src="https://server7.mp3quran.net/basit/Almusshaf-Al-Mojawwad/001.mp3" type="audio/mp3" >
         متصفحك لا يدعم تشغيل الصوت
      </audio>
      <br>
      <div class="control">
        <a id="next"><i class="fas fa-caret-right"></i></a>
        <a id="play"><i id="pause" class="fa-solid fa-pause"></i></a>
        <a id="prev"><i class="fas fa-caret-left"></i></a>
      </div>
      <br>
    </div>
       <div class="options">
      <div class="back">
         <a href="index.html" class="btn">الرجوع للقائمة</a>
      </div>
      <select name="sheikh" id="option">
        <option value="abd-el-basett" >عبد الباسط عبد الصمد مجود</option>
        <option value="abd">عبد الباسط عبد الصمد مرتل</option>

        <option value="badr-el-Turki">بدر التركي</option>
        <option value="fares">فارس عباد</option>
        <option value="manshawy">المنشاوي</option>
        <option value="ayoub">محمد أيوب</option>
        <option value="mohamed">محمد الفقيه</option>
        <option value="maher"> ماهر المعيقلي</option>
        <option value="yasser"> ياسر الدوسري</option>
        <option value="sodas"> عبد الرحمن السديس</option>
        <option value="gaber">علي جابر</option>
        <option value="nasser"> ناصر القطامي </option>
        <option value="saeed">سعد الغامدي</option>
        <option value="hossary">محمود خليل الحصري</option>
        <option value="ban">محمود علي البنا</option>
       


      </select></div>
   </div>
</body>
</html>

  <script>
   const params = new URLSearchParams(window.location.search);
const sura = params.get("sura");

const suras = [
  "الفاتحه", "البقرة", "آل-عمران", "النساء", "المائدة", "الأنعام", "الأعراف",
  "الأنفال", "التوبة", "يونس", "هود", "يوسف", "الرعد", "ابراهيم", "الحجر",
  "النحل", "الإسراء", "الكهف", "مريم", "طه", "الأنبياء", "الحج", "المؤمنون",
  "النّور", "الفرقان", "الشعراء", "النمل", "القصص", "العنكبوت", "الروم", "لقمان",
  "السجدة", "الأحزاب", "سبأ", "فاطر", "يس", "الصافات", "ص", "الزمر", "غافر",
  "فصلت", "الشورى", "الزخرف", "الدخان", "الجاثية", "الأحقاف", "محمد", "الفتح",
  "الحجرات", "ق", "الذاريات", "الطور", "النجم", "القمر", "الرحمن", "الواقعة",
  "الحديد", "المجادلة", "الحشر", "الممتحنة", "الصف", "الجمعة", "المنافقون",
  "التغابن", "الطلاق", "التحريم", "الملك", "القلم", "الحاقة", "المعارج", "نوح",
  "الجن", "المزمل", "المدثر", "القيامة", "الإنسان", "المرسلات", "النبأ", "النازعات",
  "عبس", "التكوير", "الإنفطار", "المطففين", "الانشقاق", "البروج", "الطارق", "الأعلى",
  "الغاشية", "الفجر", "البلد", "الشمس", "الليل", "الضحى", "الشرح", "التين", "العلق",
  "القدر", "البينة", "الزلزلة", "العاديات", "القارعة", "التكاثر", "العصر", "الهمزة",
  "الفيل", "قريش", "الماعون", "الكوثر", "الكافرون", "النصر", "المسد", "الإخلاص",
  "الفلق", "الناس"
];

let currentIndex = suras.indexOf(sura);
let suraNumber = currentIndex + 1;
let reciter = "abd-el-basett"; // default

let image = document.getElementById("img");
let option = document.getElementById("option");
let p = document.getElementById("play");
let i=document.getElementById("pause");
let next = document.getElementById("next");
let prev = document.getElementById("prev");

function getAudioUrl(suraNumber, reciter) {
  let padded = "";
  if (suraNumber <= 9) padded = "00" + suraNumber;
  else if (suraNumber <= 99) padded = "0" + suraNumber;
  else padded = "" + suraNumber;

  if (reciter === "abd-el-basett") {
    return `https://server7.mp3quran.net/basit/Almusshaf-Al-Mojawwad/${padded}.mp3`;
  }
  else if (reciter === "abd") {/*https://server7.mp3quran.net/basit/002.mp3*/
    return `https://server7.mp3quran.net/basit/${padded}.mp3`;
  }
  else if (reciter === "badr-el-Turki") {
    return `https://server10.mp3quran.net/bader/Rewayat-Hafs-A-n-Assem/${padded}.mp3`;
  }
  else if (reciter === "fares"){
    return `https://server8.mp3quran.net/frs_a/${padded}.mp3`;
  }
  else if( reciter === "manshawy"){
    return `https://server10.mp3quran.net/minsh/${padded}.mp3`;
  }
  else if( reciter === "ayoub"){
    return `https://server8.mp3quran.net/ayyub/${padded}.mp3`;
  }
  else if( reciter === "mohamed"){
    return `https://ia801301.us.archive.org/12/items/002_20231230/${padded}.mp3`;
  }
  else if( reciter === "maher"){
    return `https://server12.mp3quran.net/maher/${padded}.mp3`;
  }
  else if( reciter === "yasser"){
    return `https://server11.mp3quran.net/yasser/${padded}.mp3`;
  }
  else if( reciter === "sodas"){
    return `https://server11.mp3quran.net/sds/${padded}.mp3`;
  }
  else if(reciter=="gaber"){
    return `https://server11.mp3quran.net/a_jbr/${padded}.mp3`;
  }
  else if(reciter=="nasser"){
    return `https://server6.mp3quran.net/qtm/${padded}.mp3`;
  }
  else if(reciter=="saeed"){
    return`https://server7.mp3quran.net/s_gmd/${padded}.mp3`;
  }
  else if(reciter=="hossary"){
    return `https://server13.mp3quran.net/husr/${padded}.mp3`;
  }
  else if(reciter=="ban"){
    return `https://archive.org/download/golmami2005_yahoo_002_20180411_2112/${padded}.mp3`;
  }
}

function updatePlayer(suraName) {
  document.getElementById("sura-name").textContent = "سورة " + suraName;
  const url = getAudioUrl(suraNumber, reciter);
  document.getElementById("audio-source").src = url;

  const player = document.getElementById("audio-player");
  player.load();
  player.play();
  i.classList.remove("fa-play");
  i.classList.add("fa-pause");
}
p.addEventListener("click", function () {
  const player = document.getElementById("audio-player");
  if (player.paused) {
    player.play();
    i.classList.remove("fa-play");
    i.classList.add("fa-pause");
  } else if( !player.paused) {
    player.pause();
    i.classList.remove("fa-pause");
    i.classList.add("fa-play");
  }

})
next.addEventListener("click", function () {
  currentIndex++;
  if (currentIndex < suras.length) {
    suraNumber = currentIndex + 1;
    updatePlayer(suras[currentIndex]);
  }
});

prev.addEventListener("click", function () {
  currentIndex--;
  if (currentIndex >= 0) {
    suraNumber = currentIndex + 1;
    updatePlayer(suras[currentIndex]);
  }
})

function changeSura(suraName) {
  currentIndex = suras.indexOf(suraName);
  suraNumber = currentIndex + 1;
  updatePlayer(suraName);
}

if (currentIndex !== -1) {// this line checks if currentIndex is not equal to -1
  updatePlayer(suras[currentIndex]);
}

document.getElementById("audio-player").addEventListener("ended", function () {
  currentIndex++;
  if (currentIndex < suras.length) {
    suraNumber = currentIndex + 1;
    updatePlayer(suras[currentIndex]);
  }
});

let play = document.getElementById("audio-player");

play.addEventListener("pause", function () {
  image.style.animationPlayState = "paused";
  i.classList.remove("fa-pause");
  i.classList.add("fa-play"); 
});

play.addEventListener("playing", function () {
  image.style.animationPlayState = "running";
  i.classList.remove("fa-play");
  i.classList.add("fa-pause");
});

option.addEventListener("change", function () {
  reciter = option.value;

  if (reciter === "abd-el-basett") {
    image.setAttribute("src", "abd-el-baset2.jpg");
  }
  
  else if (reciter === "abd") {
    image.setAttribute("src", "abd-el-baset1.jpg");
  }
  else if (reciter === "badr-el-Turki") {
    image.setAttribute("src", "badr2.jpg");
  }
  else if (reciter === "fares"){
    image.setAttribute("src", "fares.jpg");
  }
  else if( reciter === "manshawy"){
    image.setAttribute("src", "menshawy.jpg");
  }
  else if( reciter === "ayoub"){
    image.setAttribute("src", "mohamed.jpg");
  }
  else if( reciter === "mohamed"){
    image.setAttribute("src", "mf.png");
  }
  else if( reciter === "maher"){
    image.setAttribute("src", "maher.png");
  }
  else if( reciter === "yasser"){
    image.setAttribute("src", "yasser.png");
  }
  else if( reciter === "sodas"){
    image.setAttribute("src", "https://s-media-cache-ak0.pinimg.com/564x/83/9f/a1/839fa1a43d6988809d0796f619eba1c8.jpg");
  }
  else if(reciter=="gaber"){
    image.setAttribute("src", "https://i.pinimg.com/564x/43/57/d3/4357d32cc152d4e3b8f8c37fd525b806.jpg");
  }
  else if(reciter=="nasser"){
    image.setAttribute("src", "https://i.pinimg.com/564x/6f/2d/35/6f2d3586e913233f1f03ade207398949.jpg");
  }
  else if(reciter=="saeed"){
    image.setAttribute("src", "https://i.pinimg.com/564x/14/56/7f/14567fa0c053c4f29d6b0e606f232424.jpg");
  }
  else if(reciter=="hossary"){
    image.setAttribute("src", "https://i.pinimg.com/564x/ed/51/28/ed51283cc159958f430a484d87606738.jpg");
  }
  else if(reciter=="ban"){
    image.setAttribute("src", "https://i.pinimg.com/564x/29/67/b3/2967b3fbc1ce1f5a70874288d34317bf.jpg");
  }
  updatePlayer(suras[currentIndex]);
});



  </script>
</body>
</html>